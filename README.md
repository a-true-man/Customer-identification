# מערכת ניהול לקוחות לשירותי מענה קולי - Flask

מערכת לניהול שיחות נכנסות, לקוחות וקריאות, מבוססת Flask, עם תמיכה בקבלת הודעות מימות המשיח (API).

---

## 📦 דרישות מקדימות

1. **Python 3.7+**
2. **pip**
3. **git** (להורדת הפרויקט למחשב)
4. **ngrok** (לחשיפת השרת הלוקלי החוצה)

---

## 📥 התקנה

```bash
git clone https://github.com/a-true-man/Customer-identification.git
cd Customer-identification
pip install -r requirements.txt
```

---

## 🚀 הרצת המערכת

```bash
python app.py
```

כניסה למערכת:
ברירת מחדל: `http://127.0.0.1:5000`

---

## 🌐 חשיפת השרת הלוקלי לימות המשיח עם ngrok
הוראות למחשבי mac

### שלב 1: הורדת ngrok

- הורד את ngrok: https://ngrok.com/download
- עקוב אחר ההוראות לקבלת טוקן
- חלץ את הקובץ לכונן שלך
- הזן את פקודת החיבור (פעם אחת בלבד):

```bash
./ngrok config add-authtoken YOUR_TOKEN_HERE
```

### שלב 2: הפעלת ngrok
- אחרי כל כיבוי
```bash
./ngrok http 5000
```

אתה תקבל קישור חיצוני כמו:

```
https://abc123.ngrok.io
```

---

## 📡 חיבור לימות המשיח

כדי לקבל שיחות נכנסות דרך ימות המשיח, עליך להגדיר "שלוחת API" במערכת ניהול של ימות המשיח.

### כך תעשה זאת:

1. היכנס לניהול קו → שלוחות → הוסף שלוחה חדשה
2. הכנס להגדרות מתקדמות והגדר את השלוחה לסוג `API`


```
type=api
```

כך גם הגדר שתשלח קריאה לכתובת:
(במקום ה https://example.com/YemotApi הגדר את הכתובת שקבלת בהפעלת ngrok)

```
api_link=https://example.com/YemotApi
```

📌 **שים לב:** כתובת ה־ngrok משתנה בכל הפעלה, אלא אם תרכוש גרסה בתשלום עם דומיין קבוע, לעוד פרטים בקר באתר שלהם.

3. בקובץ `app.py` יש מסלול `/api/ym` שמטפל בקריאות POST/GET מימות המשיח בעת כניסה לשלוחה שים לב לשנות אותו במידת הצורך.

---

## 🧪 בדיקות

- פתח את הקישור של ngrok בדפדפן ובדוק שהאתר עולה
- שלח קריאה מ־ימות המשיח וראה אם הנתונים נקלטים במסך הראשי/בלוג

---

## 📁 קבצים חשובים

- `app.py` – קובץ הרצה של השרת
- `templates/` – תבניות HTML
- `static/` – קבצי CSS/JS
- `requirements.txt` – תלות של ספריות
- `README.md` – מדריך זה

---

## 🛠 תמיכה

לשאלות או בעיות, תוכל לפנות אלי @איש-אמת בפורום מתמחים טופ או לפתוח Issue בגיטהאב.

בהצלחה 🎉
